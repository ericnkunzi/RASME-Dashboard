<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Dashboard - Kobo Data</title>

  <!-- Leaflet CSS for Map -->
  <link
    rel="stylesheet"
    href="https://unpkg.com/leaflet@1.9.3/dist/leaflet.css"
    integrity="sha256-sA+4XyLv3yUczPjAHSzIFs8j74h32vC7C1XwEJ1/tjk="
    crossorigin=""
  />

  <!-- Tailwind CSS CDN for basic styling (OK for dev/test) -->
  <script src="https://cdn.tailwindcss.com"></script>

  <style>
    #map {
      height: 400px;
      width: 100%;
      margin-bottom: 1rem;
    }
  </style>
</head>
<body class="bg-gray-100 p-4">

  <h1 class="text-3xl font-bold mb-4">Project Dashboard</h1>

  <!-- Project List Table -->
  <section class="mb-6 bg-white p-4 rounded shadow">
    <h2 class="text-xl font-semibold mb-2">Projects List</h2>
    <table class="w-full table-auto border-collapse border border-gray-300">
      <thead>
        <tr>
          <th class="border border-gray-300 px-2 py-1">Project Name</th>
          <th class="border border-gray-300 px-2 py-1">Activity Sector</th>
          <th class="border border-gray-300 px-2 py-1">Location</th>
        </tr>
      </thead>
      <tbody id="project-list-body"></tbody>
    </table>
  </section>

  <!-- Map -->
  <section class="mb-6 bg-white p-4 rounded shadow">
    <h2 class="text-xl font-semibold mb-2">Project Locations Map</h2>
    <div id="map"></div>
  </section>

  <!-- Charts -->
  <section class="mb-6 grid grid-cols-1 md:grid-cols-2 gap-6">
    <div class="bg-white p-4 rounded shadow">
      <h2 class="text-xl font-semibold mb-2">Activity Sector Distribution</h2>
      <canvas id="sectorPieChart" width="400" height="300"></canvas>
    </div>

    <div class="bg-white p-4 rounded shadow">
      <h2 class="text-xl font-semibold mb-2">Implementation Status</h2>
      <canvas id="statusBarChart" width="400" height="300"></canvas>
    </div>
  </section>

  <!-- Enumerators Table -->
  <section class="mb-6 bg-white p-4 rounded shadow">
    <h2 class="text-xl font-semibold mb-2">Enumerators Submissions</h2>
    <table class="w-full table-auto border-collapse border border-gray-300">
      <thead>
        <tr>
          <th class="border border-gray-300 px-2 py-1">Enumerator Name</th>
          <th class="border border-gray-300 px-2 py-1">Submissions</th>
        </tr>
      </thead>
      <tbody id="enumerators-table-body"></tbody>
    </table>
  </section>

  <!-- Scripts -->

  <!-- Leaflet JS for Map -->
  <script
    src="https://unpkg.com/leaflet@1.9.3/dist/leaflet.js"
    integrity="sha256-QVt7BguvT9GhPt4oSLFmA7rpj4yfAl3s4qH+Q+uqxP4="
    crossorigin=""
  ></script>

  <!-- Chart.js -->
  <script
    src="https://cdn.jsdelivr.net/npm/chart.js@4.3.0/dist/chart.umd.min.js"
  ></script>

  <!-- Your JS files -->
  <script src="js/koboFetch.js"></script>
  <script src="js/main.js"></script>
  <script src="js/map.js"></script>
  <script src="js/charts.js"></script>

</body>
</html>
